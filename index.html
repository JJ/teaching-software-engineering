<!doctype html>
<html>
    <head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        
	<title>Teaching software engineering: we're doing it wrong</title>
        
	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
        <link rel="stylesheet" href="dist/extra.css">
	<link rel="stylesheet" href="dist/teaching-se.css">
        
	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css">
    </head>
    <body>
	<div class="reveal">
	    <div class="slides">
		<section><h2>Teaching software engineering:</h2>
	            <h1>We're doing it wrong</h1>
                    <h2>JJ Merelo, UGR + polypoly</h2>
                    <h3>Software engineering day, Abu Dhabi University</h3>
                    <h3><a href="https://twitter.com/jjmerelo"><code>@jjmerelo</code></a>
	                | <a href="https://github.com/JJ"><code>JJ</code> @ GitHub</a></h3>
                </section>

                <section
                    data-background='https://live.staticflickr.com/65535/51211180103_a4c373c1fd_k_d.jpg'>
                    <h4 class='fragment'> Senior Software Engineer @<a href='https://polypoly.om'>polypoly</a>
                    ^2021 </h4>

                    <h1 class="fragment">Raku ^ 2016</h1>
            <h2 class='fragment'>Perl ^ 1994 </h2>
            <h2>University of Granada ^ 1988 </h2>
            <h3 class='fragment'>Programming ^ 1983 </h3>
                </section>

                <section data-background="https://live.staticflickr.com/6188/6024788333_63fe132346_k_d.jpg"><h1>Professor by day</h1>
                    <h1 class="fragment">Software engineer... by day, too</h1>
                </section>

                <section>
		    <section><h1>Heard things from students you wouldn't
		        believe</h1></section>

                    <section><blockquote>I use git at my job, but didn't think I
                        had to use it here</blockquote></section>

                    <section><blockquote>You <em>really</em> don't need getter
                        and setter for <em>every attribute</em>?</blockquote>
                    </section>

                    <section><blockquote>My program does not need business logic
                        because I don't intend to charge for
                        it</blockquote></section>

                    <section><blockquote>So a minimal viable product does not
                        need to include every single class I need now or in the
                        future, with every single attribute I could think of and
                        then some?</blockquote>
                    </section>

                    <section>
                        <blockquote>So, the code has to address the user
                            story...</blockquote>
                    </section>

                </section>

                <section>
                    <section
                        data-background="https://live.staticflickr.com/98/248298523_cff69a6c6f_k_d.jpg">
                        <h1>University is caught in the waterfall</h1></section>
                    <section
                    data-background="https://live.staticflickr.com/1126/1026185019_074ab1c5b6_k_d.jpg"><h1>The
                        university <em>works</em> like a waterfall</h1>
                    </section>
                </section>

                <section>
                    <section><h1>People don't <em>really</em> want to program</h1></section>
                    <section><h1>They want to <em>create</em> stuff</h1></section>
                    <section data-background='img/dots.jpg'>
                        <aside class='notes'>It's as if you are teaching people how to draw dots, or, as it were, to glue confetti to a canvas</aside>
                    </section>
                    <section data-background='img/painting.jpg'>
                        <aside class='notes'>But what they want is to learn to paint something like this</aside>
                    </section>

                    <section><h1>(Agile) Software Engineering is about solving problems</h1></section>

                    <section
                        data-background="https://live.staticflickr.com/65535/51614221018_99bccbc456_k_d.jpg">
                        <h1>We need a change of paradigm in teaching
                        software engineering</h1>
                    </section>
                </section>

                <section>
                    <h1>1. The toolchain is the new programming language</h1>
                    <aside class='notes'>You need to know lots of things, some of them written in other languages, some in DSLs, but that's stuff you need to do. If you just learn a couple of boilerplate expressions, you'll fall into cargo cult programming</aside>
                </section>

                <section>
                    <h1>2. The full stack is the new architecture.</h1>

                    <aside class='notes'>And there's even more complicated stuff, the Lambda and Kappa architecture, microservices and lots of things that do not fit in a single language.</aside>
                </section>

                <section>
                    <h1>3. Deployment is the new running a command.</h1>
                    <h2 class="fragment">Or "upload this zip via FTP"</h2>
                </section>

                <section>
                    <section>
                        <h1>4. Team programming is tne new solo programming.</h1>
                        <h2 class='fragment'>And Slack is the new mailman</h2>
                        
                        <aside class='notes'>You always work in a team, and even if you don't, you depend on tools that are free software and that reside in GitHub, where you can create issues, do pull requests... </aside>
                        
                    </section>

                    <section><h1>Understanding and reviewing other people's code
                        is the new..</h1>
                        <h2 class="fragment">I guess QA phase, but who
                            knows</h2>
                    </section>
                </section>

                <section>
                        <h1>5. Best practices are the new <em>This can be done, but shouldn't</em></h1>
                        <aside class='notes'>For instante, comments. In the book I am writing on Perl, the first program does not do anything, and has a comment that says exactly that.</aside>
                    </section>
                    <section>
                        <pre><code>#!/usr/bin/env perl

# This program does zilch</code></pre>
                    </section>
                </section>

                <section>
                    <h1>6. StackOverflow is the new RTFM</h1>
                    <aside class='notes'>But using it is not trivial, proper protocol is needed. And it is not a read-only resource. You've got to be there to help others too.</aside>

                </section>

                <section>
                    <h1>7. Testing is the new debugging</h1>
                    <h2 class='fragment'>But the old debugging is the new debugging too</h2>

                    <aside class='notes'>Things need not go wrong if testing is done carefully. Also code revision, code proofs in functional languages, and so on. But they can, and do so in production. You have to learn when to debug. </aside>
                </section>

                <section>
                    <h1>8. The browser is the new operating system</h1>
                    <h2 class='fragment'>And JavaScript the new <code>bash</code></h2>
                    <h3 class='fragment'>Fortunately, JS <em>is</em> a language</h3>
                    <h3 class='fragment'>... or many...</h3>
                </section>

                <section>
                    <h1>9. Loving the error messages is the new hating the error messages</h1>

                    <aside class='notes'>Error messages are informative, stateful, typed, and all kind of things. They don't dump the memory in a file with a stack to dig into and find where your pointer went off base. They are actionable, and tell you what you can do about them. Teaching how to interpret and what to do about errors will save them trips to StackOverflow and the bashing that often goes with the first experiences.</aside>

                </section>

                <section>
                    <h1>10. Unicode is the new ASCII,</h1>
                </section>

                <section>
                    <h1>immutable data structures are the new constants</h1>
                </section>

                <section>
                    <h1>and multi-paradigm programming is the new procedural programming</h1>
                    <aside class='notes'>Modern programming includes a lot of semi-low-level concepts that need to be understood. Even object and classes are something that is very basic; monads and lambda calculus too, and even category theory is needed to understand type systems. And this has to be taught <em>along</em> with the new languages, as natural concepts, not before because it would be boring or after because it will not be really understood. Batteries must be included, which means that you have to load the programming language with the concepts needed to understand it, and do it from the get go. If it is a multiparadigm, devote a few of asides to explain the paradigms and when to use them.</aside>
                </section>


                <section>

                    <section><h1>Learn software engineering...</h1>
                        <h1 class="fragment">Engineering software</h1>
                    </section>

                    <section><h1>Professors == product managers, senior software
                        engineer</h1>
                        <h2>Students == (junior) software engineer</h2>
                    </section>
                    
                    <section
                        data-background='https://live.staticflickr.com/5136/5489474407_8686dbf7d0_k_d.jpg'><h1>(Agile)
                        Project-based
                        learning</h1>
                        <h1 class='fragment'><em>Flipped</em> class</h1>
                        <h1 class='fragment'>In GitHub</h1>
                        <aside class='notes'>Y, por supuesto, hacerlo en GitHub. El hecho de usar GitHub para las
                            entregas ya, de por sí, tiene ciertas ventajas: notificación
                            de las entregas, comentarios sobre la misma... Los PRs los
                            usamos desde 2015, y <a
                                                     href='https://github.com/JJ/IV16-17/pull/362'>aquí</a>, por
                            ejemplo, el año siguiente se ve cómo se usan reviews, por
                            ejemplo. Sin embargo, 0 tests</aside>
                    </section>

                    <section>
                        <h1>If GitHub knows</h1>
                        <h1 class='fragment'>Let GitHub test it</h1>
                    </section>

                    <section><h1>PR checks: Perl FTW</h1>
                        <pre><code>my $repo = Git->repository ( Directory =&gt; '.' );
my $diff = $repo-&gt;command('diff','HEAD^1','HEAD');
my $diff_regex = qr/a\/proyectos\/hito-(\d)\.md/;
my $github;
 
SKIP: {
  my ($this_hito) = ($diff =~ $diff_regex);
  skip "No hay envío de proyecto", 5 unless defined $this_hito;  my @files = split(/diff --git/,$diff);
  my ($diff_hito) = grep( /$diff_regex/, @files);
  say "Tratando diff\n\t$diff_hito";
  my @lines = split("\n",$diff_hito);
  my @adds = grep(/^\+[^+]/,@lines);
  is( $#adds, 0, "Añade sólo una línea");
  my $url_repo;
  if ( $adds[0] =~ /\(http/ ) {
    ($url_repo) = ($adds[0] =~ /\((http\S+)\)/);
  } else {
    ($url_repo) = ($adds[0] =~ /^\+.+(http\S+)/s);
  }</code></pre>
                        <aside class='notes'>Initially it used scraping over the
                            repo, now it uses the Github API through github actions</aside>
                    </section>

                    <section><h1>Test until it works</h1>
                        <img src='img/travis.png' alt='imagen de travis'>
                        <h1 class='fragment'>Big switch: learn while you submit</h1>
                        <aside class='notes'>This is how ClassOps helps through
                            the process of continuous improvement. It tells the
                            students, in a non-ambiguous way, if objectives have been
                            achieved or not. This helps them achieve their objectives
                            by being informed where there are and where they should be.<aside>
                    </section>


                    <section><h1>Learning (objects) as code</h1>
                        <pre class='fragment'><code>    my $prefix = $url_PaaS."/".$recurso->{'nombre'};
    my $jsoner = new JSON::XS;
    if ( $metodo eq 'PUT' ) {
      ok( $recurso->{'IDs'}, "Se incluyen las IDs de los recursos enviados o devueltos" );
      for my $id ( @{$recurso->{'IDs'}} ) {
        my $URI = "$prefix/$id";
        $response = $ua->put( $URI => json => $payload );
        is( $response->res->code, 201, "Respuesta a la petición $metodo sobre $URI es correcta");
        my $location = $response->res->headers->location;
        if ( ok( $location, "«location» $location devuelto" ) ) {
          my $get_URI = ( $location =~ /http/ )? $location : $url_PaaS.$location;
          is( $ua->get($get_URI)->res->code, 200, "Se puede bajar el creado $id" );
        }
      }
    } else { #... }</code></pre>
                        <aside class='notes'>This checks if a PUT request to a
                            deployed microservice works according to specs.</aside>
                    </section>

                    <section><h1><em>GitHub Actions</em>: big boost</h1>
                        <pre><code>name: "Comprueba hitos y milestones"
on:
  pull_request:
    paths:
      - 'proyectos/hito-[1234567].md'
      - '!objetivos/*.(md|org)'
jobs:
  obtain-repo:
    runs-on: ubuntu-latest
    steps:
      - name: Extrae URL del repositorio
        uses: JJ/github-pr-contains-action@releases/v1
        with:
          github-token: ${{github.token}}
          filesChanged: 1
      - name: Comprueba hitos e issues
        uses: JJ/repo-in-diff-gh-action@releases/v0
        with:
          github-token: ${{github.token}}
          minMilestones: 3</code></pre>
                        <aside class='notes'>En la primera parte miramos al
                            diff; en la segunda es donde efectivamente comprobamos los
                            milestones y demás. It's better, it's faster, and it's
                            free for open source and public repos. So I'm lately
                            moving everything done in Travis here.</aside>
                    </section>

                    <section><h1><a
                                     href='https://github.com/JJ/repo-in-diff-gh-action'>With
                        GitHub API</a></h1>
                        <pre><code>const milestones = await github.issues.listMilestonesForRepo( { owner: user, repo: repo } )
 if ( ! milestones.data.length ) {
	core.setFailed("❌ There should be at least one milestone")
 }
 const minMilestones = +core.getInput('minMilestones')
 if ( minMilestones && milestones.data.length < minMilestones ) {
	core.setFailed( "❌ There should be more than " + minMilestones + " milestone(s)");
 }
 var totalIssues = 0
 var totalClosedIssues = 0
 milestones.data.forEach( async function( milestone ) {
	totalIssues += milestone.open_issues + milestone.closed_issues
	totalClosedIssues += milestone.closed_issues
 })
 console.log( "✅ There are " + totalIssues + "
            issues in your milestones  and " + totalClosedIssues + "
            closed issues ")</code></pre>

                        <aside class='notes'>Escritos en typescript, tienes
                            acceso a una serie de argumentos, pero lo más importante
                            es que puedes acceder fácilmente al API. Cuando empecé
                            con esto estaban en beta limitada, y la forma de
                            documentarse era a base de mirar los fuentes de las
                            actions y buscar en GitHub.</aside>
                    </section>

                    <section><h1>If GitHub knows...</h1>
                        <img src='img/checks-20-21.png' alt='pop-up de
                                  comprobaciones'>
                        <aside class='notes'>Se rompe el límite de sólo poder
                            corregir lo que uno puede físicamente hacer. Cosas que
                            son imposibles, como comprobar que todos los issues se
                            han cerrado con un commit (o PR), ahora se pueden hacer
                            fácilmente. Y a escala: más estudiantes no te quitan
                            tiempo, y te dejan centrarte en aconsejar al estudiante
                            mejoras en su código o en la forma de presentarlo.</section>
                            <section><h1>Speedier tests → better learning</h1>
                                <img src='img/pr-speed.png' alt='Velocidad de los
                                          tests'>
                                <aside class='notes'>No sólo era más rápido, la
                                    duración era más consistente. En travis es difícil que
                                    algo tarde menos de 15 segundos, pero se llegaba a una
                                    velocidad bastante buena. Again, this is what we're
                                    looking for: learning is a continuous improvement
                                    process, just like programming in general. But speed is
                                    even more important here, which is why we need to speed
                                    stuff up.</aside>
                            </section>

                            <section><h1><a href='https://github.com/JJ/IV-19-20/pull/895'>Checking
                                to hell</a> and back</h1>
                                <img src='img/checks-19-20.png' alt='Usando GH actions +
                                          Travis'>
                            </section>

                            <section><h1>Docker FTW</h1>
                                <pre><code>FROM perl:5.32-slim-threaded
LABEL version="1.5" maintainer="JJ Merelo <jjmerelo@GMail.com>" perl5version="5.28"

                                    # Set up dir and download modules
                                    RUN chmod o+r /etc/resolv.conf
                                    RUN mkdir /test && apt-get update \
                                    && apt-get install -y git curl libio-socket-ssl-perl libnet-ssleay-perl gcc  \
                                    && cpanm Test::More Test::Harness Git File::Slurper JSON TAP::Formatter::Color Term::ANSIColor Mojo::UserAgent Net::Ping YAML
                                    RUN perl --version
                                    VOLUME /test
                                    WORKDIR /test

                                    ENTRYPOINT prove -I/usr/lib -c</jjmerelo></code></pre>
                                <aside class='notes'>El tener todos los módulos
                                    instalados es un ahorro de los aproximadamente dos
                                    minutos y medio que se tarda. No es una gran cosa en
                                    un sistema de producción, pero en los estudiantes es
                                    la diferencia entre enviar y largarse y enviar y
                                    esperar a ver qué pasa → mejora en el aprendizaje.</aside>
                            </section>

                            <section><h1>2020 📅  <code>github script</code> + API v4 (GraphQL)</h1>
                                <pre><code>const query = `query($owner:String!, $name:String!, $issue:Int!) {
                            repository(name: $name , owner: $owner  ) {
                              issue(number: $issue) {
                                timelineItems(itemTypes: CLOSED_EVENT, last: 1) {
                                  nodes {
                                    ... on ClosedEvent {
                                      closer {
                                        __typename
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }`;</code></pre>
                            </section>

                            <section
                                data-background='img/grafo-github-actions.png'><h1
                                                                                   class='fragment'>Continuously improving ClassOps: ops
                                graph</h1>
                                <aside class='notes'>The quality and quantity of tests
                                    needs to improve continuosly too... As well as the speed.</aside>
                            </section>

                            <section><h1>Because students are your customers.</h1>
                                <img src='img/issue-abierto.png' alt='Contestando un
                                          issue'>
                                <aside class='notes'>En este caso, también tus
                                    hijas... En todo caso, el resultado final no es el de
                                    este issue, sino de otros dos que tenían diferentes
                                    casuísticas. Finalmente, la solución con GraphQL fue la
                                    más adecuada (y consecuencia de la ayuda de alguien en
                                    Stackoverflow).</aside>
                            </section>

                </section>


                <section data-background="https://live.staticflickr.com/2206/2314882896_9e436202e5_k_d.jpg"><h1>The world has moved to Agile</h1>
                    <h2 class="fragment">University needs too</h2>
                </section>

                <section><h1>Because...</h1>
                    <h1 class="fragment">Learning on the job >> </h1>
                    <h2 class="fragment">Learning in a bootcamp</h2>
                    <h3 class="fragment">Learning at the University</h3>
                </section>

                <section data-background="https://live.staticflickr.com/65535/51600420610_d77c52c5cc_o_d.jpg">
                    <h1>Teaching software engineering</h1>
                    <h1 class="fragment">Let's do it right</h1>
                </section>

                <section>

    <h2>Credits</h2>
    <ul><li><a href='https://www.flickr.com/photos/tripu/1860870651/'>Console by tripu</a></li>
      <li><a href='https://www.flickr.com/photos/polisea/425567315/'>Tools by Polisea</a></li>
      <li><a href='https://www.flickr.com/photos/hollywoodbranded/14430257627'>Zoolander image uploaded by Hollywood Branded</a></li>
      <li>Confetti paintings by Hugo Heyrman, taken at the Pop Art exhibition at the ING Art Space</li>
    </ul>
                  </section>
	    </div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
	 // More info about initialization & config:
	 // - https://revealjs.com/initialization/
	 // - https://revealjs.com/config/
	 Reveal.initialize({
	     hash: true,
	     width: '95%',
	     controls: true,
	     progress: true,
	     // Learn about plugins: https://revealjs.com/plugins/
	     plugins: [ RevealHighlight, RevealNotes ]
	 });
	</script>
    </body>
</html>
